<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <title>Task 0</title>
        <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
            integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
            crossorigin="anonymous"></script>

    </head>

    <body>

        <script type="application/javascript">
            function createFamilyTree () {
                $('body').append('<table><thead><td>Firstname</td><td>Lastname</td></thead></table>');
                $('table').append('<tbody></tbody>');
            }

            function addNewMember (firstName, lastName, position) {

                if (position == 'before') {
                    console.log('yes it works');
                    $('tbody').prepend(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`);
                } else {
                    console.log(position);
                    console.log('after');
                    $('tbody').append(`<tr><td>${firstName}</td><td>${lastName}</td><td>(x)</td></tr>`);
                }
                $('tbody tr td:last-child').click(function () {
                    $(this).closest('tr').remove();
                });
                $('tbody tr td:last-child').css('background-color', 'orange');
            }

            function createForm () {
                $('table').before('<input type="text"></input><input type="text"></input>');
                $('table').before('<select><option value="before">Before</option><option value="after">After</option></select>');
                $('table').before('<input type="submit" />');

                $(':submit').click(_=> addNewMember ($('input').first().val(), $('input:nth-of-type(2)').val(), $('input:nth-of-type(3)').val()));
            }

            createFamilyTree();
            createForm();
        </script>
    </body>
</html>
